<script type="text/ng-template" id="nodes_renderer_content.html">
    <!-- Page -->
    <div ui-tree-handle class="tree-node tree-node-content" data-ng-if="item.displayPage">
        <div class="titre-element">
            {{item.pageTitle}}
            <span data-ng-if="item.type == 'evaluation'"> {{item.attributes.weight}} %</span>
        </div>
    </div>
    <!-- Feuille -->
    <div ui-tree-handle class="tree-node tree-node-content" data-ng-if="!item.displayPage">
        <div data-ng-switch="item.type">

            <!-- élément de type texte -->
            <div data-ng-switch-when="text" data-text-element="item"></div>
            <!-- <div data-dyn-attr="data-text-element" data-element="item"></div> -->
            <!-- élément de type document -->
            <div data-ng-switch-when="document" data-document-element="item"></div>
            <!-- élément de type hyperlien -->
            <div data-ng-switch-when="hyperlink" data-hyperlink-element="item"></div>
            <!-- élément de type image -->
            <div data-ng-switch-when="image" data-image-element="item"></div>
              <!-- élément de type video -->
            <div data-ng-switch-when="video" data-video-element="item"></div>
			<!-- élément de type contactInfo -->
            <div data-ng-switch-when="contact_info" data-contact-element="item"></div>
            <div ng-switch-default>
                <!-- Affichage attributs -->
                <div class="attributs" data-ng-switch="item.type">
                    <div data-ng-switch-when="text">
                    </div>
                    <ul ng-switch-default>
                       <li data-ng-repeat="(key, value) in item.attributes">
                           {{key}} : {{value}}
                       </li>
                    </ul>
                </div>

            </div>

        </div>
    </div>


    <ol ui-tree-nodes="" data-ng-model="item.children" data-ng-class="{hidden: collapsed, 'liste-element': true}" data-ng-if="item.children && item.children.length > 0 && item.children[0].displayPage" >
        <li data-ng-repeat="item in item.children" ui-tree-node data-ng-include="'nodes_renderer_content.html'" >
        </li>
    </ol>
 
</script>

<section data-ng-controller='ContentPanelCtrl'>

    <div class='titre'>
        {{infos.selectedItem.pageTitle}}
        <span data-ng-if="item.type == 'evaluation'"> {{item.attributes.weight}} %</span>
    </div>
    
    <div ui-tree data-drag-enabled="false">

      <ol ui-tree-nodes="" ng-model="infos.selectedItem.children" class="liste-element">
        <li ng-repeat="item in infos.selectedItem.children" ui-tree-node ng-include="'nodes_renderer_content.html'"></li>          
      </ol>

    </div>

    
</section>
