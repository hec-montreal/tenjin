<div ng-controller="SyllabusCtrl">
	<div class="errors col-xs-12" ng-if="alertService.hasAlert()">
		<div class="alert alert-{{alertService.currentAlert.type}}">
			<strong>{{ 'ERROR' | translate }}:&nbsp;</strong>{{ alertService.currentAlert.msg }}
		</div>
	</div>
	
	<div id="syllabus" >
		<div class="row">
			<h1 class="course-title col-xs-12">
				{{::syllabusService.syllabus.courseTitle}}
			</h1>
		</div>


		 <div class="row">
			<div class="toolbar col-xs-12">
				<div class="toolbar-wrapper">
					<div class="toolbar-left">
						<!-- Management button -->
						<is-allowed data-permission='managerView' >
							<button  ui-sref="management">
								{{ 'BUTTON_MANAGEMENT' | translate }}
							</button>
						</is-allowed>

						<!-- Groups list-->
						<is-allowed data-permission='syllabusWrite' >
							<div  class="btn-group button-list" uib-dropdown keyboard-nav>
								<button id="btn-group-list" class="list" ng-disabled="syllabusService.working" uib-dropdown-toggle>
									<span class="add-label">{{syllabusService.syllabus.title}}</span> <span class="caret"></span> 
								</button>

								<ul uib-dropdown-menu class="list-menu-add-left" role="menu" aria-labelledby="btn-group-list">
									<li role="menuitem" ng-repeat="syllabus in syllabusService.syllabusList">
										<a href="" ng-click="selectSyllabus(syllabus)">{{::syllabus.title }} <span ng-if="syllabus.instructors.length > 0"> - {{::syllabus.instructors}}</span></a> 
									</li> 
								</ul>
							</div>
						</is-allowed>
					</div>

					<div class="toolbar-right">
						<is-allowed data-permission='syllabusWrite' data-syllabus= 'syllabusService.syllabus' >
							<button class="action"  ng-click="save()" ng-disabled="(!syllabusService.dirty || syllabusService.working)">
								<span class="glyphicon glyphicon-floppy-disk"></span> {{ 'BUTTON_SAVE' | translate }}
							</button>
						</is-allowed>

						<is-allowed data-permission='syllabusPublish' data-syllabus= 'syllabusService.syllabus' >
							<button class="action" ng-if="syllabusService.syllabus.$writePermission" ng-click="startPublish()">
								<span class="glyphicon glyphicon-save"></span> {{ 'BUTTON_PUBLISH' | translate }}
							</button>
						</is-allowed>
					</div>
				</div>
			</div>
		</div>
 
		<div class="row mobile-navigation-host">
			<div class="col-xs-12">
				<mobile-navigation></mobile-navigation>
			</div>
		</div>

		<div class="row col-equal-height">
			<div class="navigation-host col-md-3 pull-left" data-ng-if="showNavigation">
				<navigation></navigation>
			</div>

			<div class="navigation-drawer" data-ng-if="!showNavigation">
				<button data-ng-click="toggleNavigation()"><span class="glyphicon glyphicon-chevron-right"></span></button>
			</div>

			<div ng-include="'contentPanel/contentPanel.html'" data-ng-class="['col-xs-12', 'pull-left', {'col-md-9': showNavigation, 'all-width': !showNavigation}]" id="contentPanel"></div>
		</div>
	</div>
</div>
