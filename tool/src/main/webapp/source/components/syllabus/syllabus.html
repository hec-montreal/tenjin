<div ng-controller="SyllabusCtrl">
	<div class="errors col-xs-12" ng-if="alertService.hasAlert()">
		<div class="alert alert-{{alertService.currentAlert.type}}">
			<strong>{{ 'ERROR' | translate }}:&nbsp;</strong>{{ alertService.currentAlert.msg }}
		</div>
	</div>
	
	<div id="syllabus" ng-if="syllabusLoaded">
		<div class="row">
			<h1 class="course-title col-xs-12">
				{{::syllabusService.syllabus.courseTitle}}
			</h1>
		</div>

		<div class="row">
			<div class="toolbar col-xs-12">
				<div class="toolbar-left">
					<!-- Management button -->
					<button ng-if="displayButtons.managementButton()" ui-sref="management">
						{{ 'BUTTON_MANAGEMENT' | translate }}
					</button>

					<!-- Groups list -->
					<div ng-if="displayButtons.syllabusDropdown()" class="btn-group button-list" uib-dropdown keyboard-nav>
						<button id="btn-group-list" class="list" ng-disabled="syllabusService.working" uib-dropdown-toggle>
							<span class="add-label">{{syllabusService.syllabus.title}}</span> <span class="caret"></span> 
						</button>

						<ul uib-dropdown-menu class="list-menu-add-left" role="menu" aria-labelledby="btn-group-list">
							<li role="menuitem" ng-repeat="syllabus in syllabusService.syllabusList">
								<a href="" ng-click="selectSyllabus(syllabus)">{{::syllabus.title }} <span ng-if="syllabus.instructors.length > 0"> - {{::syllabus.instructors}}</span></a> 
							</li> 
						</ul>
					</div>
				</div>

				<div class="toolbar-right">
					<button class="action" ng-if="syllabusService.syllabus.$writePermission" ng-click="save()" ng-disabled="(!syllabusService.dirty || syllabusService.working)">
						<span class="glyphicon glyphicon-floppy-disk"></span> {{ 'BUTTON_SAVE' | translate }}
					</button>

					<button class="action" ng-if="syllabusService.syllabus.$writePermission" ng-click="startPublish()">
						<span class="glyphicon glyphicon-save"></span> {{ 'BUTTON_PUBLISH' | translate }}
					</button>
				</div>
			</div>
		</div>

		<div class="row mobile-navigation-host">
			<div class="col-xs-12">
				<mobile-navigation></mobile-navigation>
			</div>
		</div>

		<div class="row col-equal-height">
			<div class="navigation-host col-md-3 pull-left" data-ng-if="showNavigation">
				<navigation></navigation>
			</div>

			<div class="navigation-drawer col-md-1" data-ng-if="!showNavigation">
				<button data-ng-click="toggleNavigation()"><span class="glyphicon glyphicon-chevron-right"></span></button>
			</div>

			<div ng-include="'contentPanel/contentPanel.html'" data-ng-class="['col-xs-12', 'pull-left', {'col-md-9': showNavigation, 'col-md-11': !showNavigation}]" id="contentPanel"></div>
		</div>
	</div>
</div>
