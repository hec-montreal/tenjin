<section class="content-panel" data-ng-controller="ContentPanelCtrl">
	<div class="title">
		<div class="left">
			<h2>
				{{treeService.selectedElement.title}}
				<span data-ng-if="treeService.selectedElement.type == 'evaluation'"> ({{treeService.selectedElement.attributes.evaluationWeight}}%)</span>
				<span data-ng-if="treeService.selectedElement.type == 'exam'"> ({{treeService.selectedElement.attributes.examWeight}}%)</span>
			</h2>
		</div>

		<div class="right">
			<add-element-menu id="menu-add" data-add-element-menu="treeService.selectedElement"  class="container-menu-add"></add-element-menu>
		</div>

		<div style="clear: both;"></div>
	</div>

	<div data-ng-if="treeService.selectedElement.type == 'evaluation'">
		<div data-evaluationattr-element="treeService.selectedElement"></div>
	</div>

	<div data-ng-if="treeService.selectedElement.type == 'exam'">
		<div data-examattr-element="treeService.selectedElement"></div>
	</div>

	<div ui-tree="treeOptions" data-drag-enabled="true" data-ng-model="treeService.selectedElement">
		<ol ui-tree-nodes="" ng-model="treeService.selectedElement.elements" class="list-element">
			<li ng-repeat="item in treeService.selectedElement.elements" data-nodrag="!userService.canEditElement(element,syllabusService.syllabus)" ui-tree-node>
				<div data-content-panel-directive="item" index="$index"></div>
				
				<ol class="listing" ui-tree-nodes="" data-ng-model="item.elements" class="list-element list-element-leaf" data-ng-class="{hidden: collapsed}" data-ng-if="item.type === 'composite' || item.type === 'rubric'" >
					<li data-ng-repeat="item in item.elements" data-nodrag="{{!userService.canEditElement(syllabusService.syllabus)}}" ui-tree-node ui-tree-handle>
						<div data-content-panel-directive="item" index="$index"></div>
					</li>
				</ol>
			</li>
		</ol>
	</div>

	<div class="content-padding"></div>
</section>
